Troubleshooting tips
---------------------

Below is a list of things you can do to start troubleshooting issues/failures.

---

1) Check relevant files and directories:

   - install.log: This file contains CloudARK client and server installation logs

   - cld.log: This file contains the server's runtime logs

   - cloudark-virtenv: This is the Python virtual environment in which CloudARK client and server are installed

   - ~/.cld/data/deployments/cld.sqlite: SQLite database file to store CloudARK's internal state


2) Check the files that are generated by CloudARK for deployment
   
   - CloudARK stores generated files in individual directories inside the '~/.cld/data/deployments' directory


3) Check if all the CloudARK's cloud extensions have properly got loaded

   $ source cloudark-virtenv/bin/activate

   $ epi group list

     You should see list of all the loaded stevedore extensions. CloudARK extensions are available
     under "server.server_plugins" namespace. Some example commands to check extensions are below.

   $ epi group show server.server_plugins.aws.coe

     Shows the aws.coe extensions

   $ epi group show server.server_plugins.gcloud.app

     Shows the gcloud.app extensions


4) Use environment-specific shell to run the target cloud's native CLI commands


5) Install and start CloudARK in fresh virtual environment manually:
   
   $ virtualenv freshinstall

   $ source freshinstall/bin/activate

   $ pip install -r requirements.txt

   $ python client/setup.py install

   $ python server/setup.py install

   $ python server/fmserver.py

   Open another shell window, activate the freshinstall virtual environment, and then run client commands.
   Note that you need to be in the directory where Dockerfile is present to run client commands.


Additionally, we would really appreciate if you create a issue_.

.. _issue: https://github.com/cloud-ark/cloudark/issues

Please include following information when creating the issue:

- environment yaml definition

- application yaml definition

- cld commands used

- relevant stack trace from cld.log
