
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Application &#8212; CloudARK 0.1.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
    <link rel="prev" title="Environment" href="environment.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="application">
<h1>Application</h1>
<p>An application is defined as Docker container. CloudARK assumes that Dockerfile
is present in the application directory from which CloudARK commands would be run.</p>
<p>Application is deployed on an <em>environment</em>. The application deployment action takes
the id of the environment as input. CloudARK builds the docker container image for
the application and then deploys it on the COE cluster created as part of the specified
environmnet.</p>
<p>Application is bound to resources in the environment through environment variables
defined in the Dockerfile. For example here is a Dockerfile from <a class="reference external" href="https://github.com/cloud-ark/cloudark-samples/tree/master/greetings">greetings</a> application.</p>
<div class="highlight-Dockerfile"><div class="highlight"><pre><span></span><span class="k">FROM</span><span class="s"> ubuntu:14.04</span>
<span class="k">RUN</span> apt-get update -y <span class="se">\</span>
    <span class="o">&amp;&amp;</span> apt-get install -y python-setuptools python-pip
<span class="k">ADD</span><span class="s"> requirements.txt /src/requirements.txt</span>
<span class="k">RUN</span> <span class="nb">cd</span> /src<span class="p">;</span> pip install -r requirements.txt
<span class="k">ADD</span><span class="s"> . /src</span>
<span class="k">EXPOSE</span><span class="s"> 5000</span>
<span class="k">ENV</span><span class="s">  PASSWORD $CLOUDARK_RDS_MasterUserPassword</span>
<span class="k">ENV</span><span class="s">  DB $CLOUDARK_RDS_DBName</span>
<span class="k">ENV</span><span class="s">  HOST $CLOUDARK_RDS_Address</span>
<span class="k">ENV</span><span class="s">  USER $CLOUDARK_RDS_MasterUsername</span>
<span class="k">CMD</span><span class="s"> [&quot;python&quot;, &quot;/src/application.py&quot;]</span>
</pre></div>
</div>
<p>The environment variables are set using following format: <em>CLOUDARK_&lt;TYPE&gt;_&lt;Attribute&gt;</em>.
The <em>TYPE</em> is one of the supported resource types (represented in uppercase).
<em>Attribute</em> is the exact name of one of the output attributes of the provisioned resource.
Output attributes available for a resource can be obtained by querying the resource
using <em>cld resource list</em> command.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="architecture.html">Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="environment.html">Environment</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="architecture.html">Architecture</a><ul>
      <li>Previous: <a href="environment.html" title="previous chapter">Environment</a></li>
      <li>Next: <a href="tutorial.html" title="next chapter">Tutorial</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
    </div>

    

    
  </body>
</html>